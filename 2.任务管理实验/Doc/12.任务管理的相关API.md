# 用户可以使用的API（仅列举部分）

```c
/* 创建任务：将内存中的用户代码创建为一个用户任务 */                                       
void          OSTaskCreate              (OS_TCB                *p_tcb,
                                         CPU_CHAR              *p_name,
                                         OS_TASK_PTR            p_task,
                                         void                  *p_arg,
                                         OS_PRIO                prio,
                                         CPU_STK               *p_stk_base,
                                         CPU_STK_SIZE           stk_limit,
                                         CPU_STK_SIZE           stk_size,
                                         OS_MSG_QTY             q_size,
                                         OS_TICK                time_quanta,
                                         void                  *p_ext,
                                         OS_OPT                 opt,
                                         OS_ERR                *p_err); 
                                         
/* 删除任务：任务既可以删除自身，也可以删除其他任务 */                                          
void          OSTaskDel                 (OS_TCB                *p_tcb,
                                         OS_ERR                *p_err);
                                         
/* 挂起任务：任务既可以挂起自身，也可以挂起其他任务 */                                        
void          OSTaskSuspend             (OS_TCB                *p_tcb,
                                         OS_ERR                *p_err);
                                         
/* 恢复任务： 只能由其他任务恢复被挂起的任务，其自身无法恢复 */                                           
void          OSTaskResume              (OS_TCB                *p_tcb,
                                         OS_ERR                *p_err);  
                                         
/* 任务的阻塞没有专门的函数，这是由各种内核对象（消息、事件、信号量、互斥量等）所负责的 */   
                                         
/* 延时函数 */
void          OSTimeDly                 (OS_TICK                dly,
                                         OS_OPT                 opt,
                                         OS_ERR                *p_err);

/* 延时函数：可显示时分秒 */
void          OSTimeDlyHMSM             (CPU_INT16U             hours,
                                         CPU_INT16U             minutes,
                                         CPU_INT16U             seconds,
                                         CPU_INT32U             milli,
                                         OS_OPT                 opt,
                                         OS_ERR                *p_err);       
                                         
/* 系统初始化 */       
void          OSInit                    (OS_ERR                *p_err);

/* 系统初始化结束后，通知系统，任务调度开始 */  
void          OSStart                   (OS_ERR                *p_err);   

/* 任务切换 */
void          OSSched                   (void);                                  
```

# 系统内部的底层函数（一般带下划线），请用户不要使用

```
/* 任务管理 */
void          OS_TaskBlock              (OS_TCB                *p_tcb,
                                         OS_TICK                timeout);

void          OS_TaskInit               (OS_ERR                *p_err);

void          OS_TaskInitTCB            (OS_TCB                *p_tcb);

void          OS_TaskRdy                (OS_TCB                *p_tcb);


void          OS_TaskResume             (OS_TCB                *p_tcb,
                                         OS_ERR                *p_err);

void          OS_TaskReturn             (void);

void          OS_TaskSuspend            (OS_TCB                *p_tcb,
                                         OS_ERR                *p_err);
                                         
/* 优先级管理 */
void          OS_PrioInit               (void);

void          OS_PrioInsert             (OS_PRIO                prio);

void          OS_PrioRemove             (OS_PRIO                prio);

OS_PRIO       OS_PrioGetHighest         (void);
                                         
/* 就绪队列管理 */ 
void          OS_RdyListInit            (void);

void          OS_RdyListInsert          (OS_TCB                *p_tcb);

void          OS_RdyListInsertHead      (OS_TCB                *p_tcb);

void          OS_RdyListInsertTail      (OS_TCB                *p_tcb);

void          OS_RdyListMoveHeadToTail  (OS_RDY_LIST           *p_rdy_list);

void          OS_RdyListRemove          (OS_TCB                *p_tcb);

/* 时基队列管理 */
void          OS_TickListInit           (void);

void          OS_TickListInsert         (OS_TCB                *p_tcb,
                                         OS_TICK                time,
                                         OS_OPT                 opt,
                                         OS_ERR                *p_err);

void          OS_TickListRemove         (OS_TCB                *p_tcb);

void          OS_TickListResetPeak      (void);

void          OS_TickListUpdate         (void);

/* 等待队列管理 */
void          OS_PendDataInit           (OS_TCB                *p_tcb,
                                         OS_PEND_DATA          *p_pend_data_tbl,
                                         OS_OBJ_QTY             tbl_size);

OS_PEND_LIST *OS_PendListGetPtr         (OS_PEND_OBJ           *p_obj);

void          OS_PendListInit           (OS_PEND_LIST          *p_pend_list);

void          OS_PendListInsertHead     (OS_PEND_LIST          *p_pend_list,
                                         OS_PEND_DATA          *p_pend_data);

void          OS_PendListInsertPrio     (OS_PEND_LIST          *p_pend_list,
                                         OS_PEND_DATA          *p_pend_data);

void          OS_PendListChangePrio     (OS_TCB                *p_tcb,
                                         OS_PRIO                prio_new);

void          OS_PendListRemove         (OS_TCB                *p_tcb);

void          OS_PendListRemove1        (OS_PEND_LIST          *p_pend_list,
                                         OS_PEND_DATA          *p_pend_data);

/* 空闲任务：优先级最低 */
void          OS_IdleTask               (void                  *p_arg);

void          OS_IdleTaskInit           (OS_ERR                *p_err);
```