在 **µC/OS-III (MicroC/OS-III)** 中，其内置的**时间片轮转调度（Round Robin Scheduling）功能是且仅发生在相同优先级的多个就绪任务之间**。这是理解 µC/OS-III 调度的关键点。

以下是详细说明：

1.  **核心调度机制：基于优先级的抢占式调度**
    *   µC/OS-III 是一个实时操作系统，其最核心和默认的调度策略是**基于优先级抢占（Preemptive Priority-based Scheduling）**。
    *   在任何时刻，运行着的任务总是**处于就绪态且优先级最高的任务**。
    *   如果一个比当前运行任务优先级更高的任务进入就绪态（例如，因为其所等待的信号量被发送、超时到期等），**调度器会立即抢占**当前运行的任务，切换到那个更高优先级的任务运行。这是保证实时性的关键。
    *   不同优先级任务之间，**没有时间片的概念**。低优先级任务会被高优先级任务无限期地抢占，直到高优先级任务主动放弃CPU（比如调用 `OSTimeDly()`, `OSSemPend()`, 等）或被更高优先级的任务抢占。

2.  **时间片轮转调度：仅作用于同一优先级**
    *   时间片轮转是µC/OS-III提供的一个**可选补充机制**，用于处理**同一优先级下存在多个就绪任务**的情况。
    *   当一个任务在一个给定的优先级（例如 Priority 10）创建，并且这个优先级上存在**多个**任务（设为 Task A, Task B, Task C）时，且**在创建这些任务时启用了时间片轮转**（通过调用 `OSSchedRoundRobinCfg()` 并在系统初始化配置结构 `OS_CFG_SCHED_ROUND_ROBIN_EN` 为 1），才会在该优先级内部启用时间片轮转。
    *   **工作原理**：
        *   如果某个优先级上只有一个就绪任务，那么只要它是最高的且没有被阻塞，它将无限期地运行（当然，可以被更高级的任务抢占）。
        *   如果某个优先级上有**多个**就绪任务（比如优先级为 N），并且它们构成了当前系统中的最高优先级组（即没有比N更高的优先级就绪任务），那么调度器会在这些任务之间进行时间片轮转调度。
        *   内核在每次**时钟节拍中断（SysTick）** 时减少当前运行任务的**时间片计数器**。
        *   当该任务的**时间片用完**（计数器减到 0），调度器会检查**该优先级上是否还有其他就绪的任务**。
        *   如果有，调度器会**强制切换**到同一个优先级下的**下一个就绪任务**运行（遵循该优先级内部的任务链表的顺序）。
        *   被切换出的任务不会离开就绪态（除非它执行了等待操作），它只是轮到下一个同级任务执行了。
        *   **每个任务的时间片长度通常是相同的**，但也可以在创建任务时通过 `OSTaskCreate()` 的 `time_quanta` 参数为每个任务单独指定。

3.  **重要结论与总结**
    *   **不同优先级之间：** 完全基于优先级抢占调度，**没有**时间片。高优先级任务总是会抢占低优先级任务。
    *   **相同优先级之间：** **时间片轮转调度只发生在这里**。它必须在任务创建时显式配置启用（`OSSchedRoundRobinCfg()` + `OS_CFG_SCHED_ROUND_ROBIN_EN`），并且仅当该优先级上有多个就绪任务，且该优先级是当前最高优先级组时才生效。
    *   **时间片耗尽触发调度：** 时间片耗尽只会在**同优先级内部**触发任务切换。高优先级任务就绪会**立即**抢占当前运行任务，无论当前运行任务的时间片是否耗尽。

**简单来说：在 µC/OS-III 中，你设置了时间片轮转的任务，只有当它和具有相同优先级的任务同时就绪，且没有更高优先级的任务抢占时，它们才会按照时间片轮转的方式轮流执行。如果任何一个更高优先级的任务就绪了，它们都会被抢占。**

因此，µC/OS-III 的时间片轮转法调度只发生在多个就绪任务共享同一个优先级的情况下。**